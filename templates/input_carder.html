<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>承运商列表</title>

<link href="/static/WebStyle/green/css/base.css?{{ ver }}" rel="stylesheet">
<link rel="stylesheet" href="/static/custom/green/uimaker/easyui.css?{{ ver }}">
<link rel="stylesheet" type="text/css" href="/static/custom/green/uimaker/icon.css?{{ ver }}">
<link rel="stylesheet" href="/static/WebStyle/green/css/providers1.css?{{ ver }}">
<script type="text/javascript" src="/static/JS/function.js?{{ ver }}"></script>

<style type="text/css">
.messager-body{line-height:50px}.messager-window .messager-icon{margin-left:35px}.messager-window .messager-button{border-top:0;background:#fff}.jq-form{margin:10px;padding:0 9px;background:#f1f1f1;font-size:14px}.jq-form .jq-form-row{padding:0 165px;min-height:45px;line-height:45px}.jq-form .jq-form-row.jq-form-submit{height:80px;line-height:80px}.jq-form .jq-form-row.even{background:#fff}.jq-form .jq-form-row>label{float:left;margin-left:-165px;padding-left:30px;width:135px}.jq-form .jq-form-row .jq-form-control{float:left;width:100%}.jq-form .jq-form-row .jq-form-control .jq-form-input{width:100%;height:31px;padding:0 10px;box-sizing:border-box}.jq-form .jq-form-row .jq-form-control .jq-form-textarea{margin-top:10px;width:100%;height:110px;padding:5px;box-sizing:border-box}.jq-form .jq-form-row .jq-form-tip{float:right;margin-right:-165px;padding-left:20px;width:145px;color:#7f7f7f}.jq-form .jq-form-row .jq-form-tip .important{color:#df0000}.jq-form .jq-form-row.jq-form-time .textbox{width:auto!important;height:30px!important;line-height:30px!important}.jq-form .jq-form-row.jq-form-time .textbox-text{width:314px!important;height:30px!important;line-height:30px!important}
</style>
</head>
<body>
    <div class="container">
       <table id="dg" style="width:100%;height:529px" title="全体承运商列表" data-options="
                rownumbers:true,
                singleSelect:false,
                autoRowHeight:false,
                pagination:true,
                fitColumns:true,
                striped:true,
                checkOnSelect:false,
                selectOnCheck:false,
                collapsible:true,
                toolbar:'#tb',
                pageSize:10">
            <thead>
                <tr>
                    <th field="ck" checkbox="true"></th>
                    <th field="ID" width="110">承运商编码</th>
                    <th field="Carder_MarkName" width="226">承运商名称</th>
                    <th field="Carder_User" width="170">联系人</th>
                    <th field="Carder_Address" width="130">公司地址</th>
                    <th field="Carder_BankInfo" width="136">账户信息</th>
                    <th field="Carder_Cards" width="120">车辆信息</th>
                    <th field="Carder_Control" width="105">操作</th>
                </tr>
            </thead>
        </table>
      <div id="tb" style="padding:0 30px;">
        <form id="f1" method="post">
            {% csrf_token %}
          <div class="conditions">
{#            <span class="con-span">承运商编码: </span><input class="easyui-textbox" type="text" name="ID" style="width:166px;height:35px;line-height:35px;"></input>#}
            <span class="con-span">承运商名称: </span><input class="easyui-textbox" type="text" name="Carder_MarkName" style="width:166px;height:35px;line-height:35px;"></input>
            <a href="#" class="easyui-linkbutton search" iconCls="icon-search" data-options="selected:true">查询</a>
            <a href="#" class="easyui-linkbutton" iconCls="icon-reload">重置</a>
{#            <a href="#" class="easyui-linkbutton more" iconCls="icon-more">更多</a>#}
          </div>

{#          <div class="conditions hide">#}
{#            <span class="con-span">公司代码: </span><input class="easyui-textbox" type="text" name="code" style="width:166px;height:35px;line-height:35px;"></input>#}
{#            <span class="con-span">公司名称: </span><select class="easyui-combobox" name="language" style="height:35px;width:166px;"><option>公司名称</option></select>#}
{#            <span class="con-span">发布时间: </span><input class="easyui-datetimebox" style="width:166px;height:35px;line-height:35px;">#}
{#            <span class="con-span">合同状态: </span><input class="easyui-textbox" type="text" name="code" style="width:166px;height:35px;line-height:35px;"></input>#}
{#          </div>#}
          <div class="opt-buttons">
            <a href="#" class="easyui-linkbutton add-row" data-options="selected:true">新增</a>
            <a href="#" class="easyui-linkbutton delete-row">删除</a>
{#            <a href="#" class="easyui-linkbutton">发布</a>#}
{#            <a href="#" class="easyui-linkbutton">取消发布</a>#}
{#            <a href="#" class="easyui-linkbutton">标记为执行完毕</a>#}
{#            <a href="#" class="easyui-linkbutton">导出</a>#}
          </div>
       </form>
      </div>
      <div id="add" title="新增承运商" style="width:718px;display:none;">
          <form id="f2" method="post">
            <div class="jq-form">
              <div class="jq-form-row clearfix">
                <label>承运商名称：</label>
                <div class="jq-form-control">
                  <input class="jq-form-input" type="text" />
                </div>
                <span class="jq-form-tip">
                  <span class="important">&nbsp;*&nbsp;</span>请严格填写
                </span>
              </div>
              <div class="jq-form-row clearfix even">
                <label>联系人：</label>
                <div class="jq-form-control">
                  <input class="jq-form-input" type="text" />
                </div>
                <span class="jq-form-tip">
                  <span class="important">&nbsp;*&nbsp;</span>请严格填写
                </span>
              </div>
              <div class="jq-form-row clearfix">
                <label>公司地址：</label>
                <div class="jq-form-control">
                  <input class="jq-form-input" type="text" />
                </div>
                <span class="jq-form-tip">
                  <span class="important">&nbsp;*&nbsp;</span>请严格填写
                </span>
              </div>
              <div class="jq-form-row clearfix even">
                <label>账户信息：</label>
                <div class="jq-form-control">
                  <input class="jq-form-input" type="text" />
                </div>
                <span class="jq-form-tip">
                  <span class="important">&nbsp;*&nbsp;</span>请严格填写
                </span>
              </div>

              <div class="jq-form-row clearfix jq-form-submit">
                <div class="jq-form-control">
                  <a href="#" onclick="AddCarder();" class="easyui-linkbutton" data-options="selected:true">确定</a>
                  <a href="#" onclick="$('#add').dialog('close')" class="easyui-linkbutton">关闭</a>
                </div>
              </div>
            </div>
          </form>
      </div>
    </div>
    <script type="text/javascript" src="/static/custom/green/jquery.min.js?{{ ver }}"></script>
    <script type="text/javascript" src="/static/custom/green/jquery.easyui.min.js?{{ ver }}"></script>
    <script type="text/javascript" src="/static/custom/green/easyui-lang-zh_CN.js?{{ ver }}"></script>

    {#  加载datagrid自动分页代码  #}
    <script type="text/javascript" src="/static/JS/datagrids_auto_page.js?{{ ver }}"></script>

    <script type="text/javascript">

        $('.add-row').on('click', function() {
          $('#add').dialog({
              cache: false,
              modal: true
          });
          $('#time').datetimebox({
              value: '3/4/2010 2:3',
              required: true,
              showSeconds: false
          });
        })

        $('.delete-row').on('click', function() {
          $.messager.confirm({
            title: '提示信息',
            ok: '确定',
            icon: 'error',
            cancel: '取消',
            msg: '你确定要删除选中记录？',
            fn: function(r) {

              if(r) {
                console.log('YES');
              } else {
                console.log('NO');
              }

            }
          });
          $('.messager-window').find('.l-btn-small').eq(0).addClass('l-btn-selected');
          $('.messager-window').find('.messager-icon').removeClass('messager-question').addClass('messager-error');
        })

        $(function(){
            $('#dg').datagrid();
            //页面载入时加载远程内容
            CheckPost();
        });


        $(".more").click(function(){
            $(this).closest(".conditions").siblings().toggleClass("hide");
        });

        // 当查询按钮点击
        $(".search").click(function(){
            CheckPost();
        });

        function CheckPost(){
            $('#f1').form('submit', {
                url:'/JSON/aa',
                onSubmit: function(){
                    loading(1);
                },
                success:function(data){
                    {#console.log(data)#}
                    $('#dg').datagrid({data: JSON.parse(data)}).datagrid('clientPaging');
                    loading(0)
                }
            });
        }

        function AddCarder() {
            $('#f2').form('submit', {
                url:'/JSON/ab',
                onSubmit: function(){
                    loading(1);
                },
                success:function(data){
                    {#console.log(data)#}
                    $('#dg').datagrid({data: JSON.parse(data)}).datagrid('clientPaging');
                    loading(0)
                }
            });
            alert(1)
        }
    </script>
</body>
</html>
